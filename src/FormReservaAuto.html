<!DOCTYPE html>
<html lang="es" id="renta-autos">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario De Reserva</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles/EstilosAutos.css">
    <link rel="stylesheet" href="styles/style.css">

</head>
<body>
    <header class="bg-black p-2">
        <div class="container flex items-center flex-col sm:flex-row justify-between mx-auto text-white">
            <a href="/" class="flex items-center">
                <h1 class="my-2 text-4xl sm:ml-0 sm:text-title sm:leading-none ">EcuTravel</h1>
                <i class="fas fa-plane-departure text-2xl sm:text-logo ml-2"></i>
            </a>

            <i id="bar" class="block text-3xl sm:hidden fas fa-bars"></i>

            <nav id="nav" class="opacity-0 h-0 invisible sm:visible sm:h-auto sm:opacity-100 sm:flex gap-2 flex-col text-center sm:flex-row sm:justify-between sm:gap-4 sm:text-2sm transition-all duration-300 ease-in-out">
                <a class="hover:text-orange-500 text-lg sm:text-base" href="RuizJonathan.html">Vuelos</a>
                <a class="hover:text-orange-500 text-lg sm:text-base" href="DavilaJose.html">Hoteles</a>
                <a class="hover:text-orange-500 text-lg sm:text-base" href="RonquilloVanessa.html">Reserva de Autos</a>
                <a class="hover:text-orange-500 text-lg sm:text-base" href="TenemeaNeysser.html">Gastronomia</a>
            </nav>
        </div>
    </header>

    <main id="main-formulario">
        <div id="contenedor-formulario">
            <h1 class="titulos-seccion Formulario"> Formulario de Reserva</h1>
            <div id="campos-ingreso">
                <form id="form-renta" onsubmit="return validarform();">
                    <div class="campos">
                        <label for="i-nombre">Nombre:</label>
                        <input type="text" id="i-nombre" name="nombre">
                    </div>
                    <div class="campos"><label for="i-apellido">Apellido:</label>
                        <input type="text" id="i-apellido" name="apellido">
                    </div>
                    <div class="campos">
                        <label for="t-telefono">Telefono:</label>
                        <input type="tel" id="t-telefono" name="telefono">
                    </div>
                    <div class="campos">
                        <label for="i-correo">Correo:</label>
                        <input type="email" id="i-correo" name="correo">
                    </div>
                    <div class="campos">
                        <label>Sexo:</label>
                        <div id="rdbuttongenero">
                            <input type="radio" id="s-femenino" name="sexo" value="femenino">
                            <label for="s-femenino" class="l-sexo">Femenino</label>
                     
                            <input type="radio" id="s-masculino" name="sexo" value="masculino">
                            <label for="s-masculino" class="l-sexo">Masculino</label>
                            
                        </div>
                        
                   
                    </div>
                    <div class="campos">
                        <label>Vehiculo Requerido:</label>
                        <select name="vehiculo" id="vehiculos">
                            <option selected disabled>Seleccione</option>
                            <option  value="Chevrolet Spark">Chevrolet Spark</option>
                            <option  value="Chevrolet Grand Vitara">Chevrolet Grand Vitara</option>
                            <option  value="Kia Picanto">Kia Picanto</option>
                            <option  value="Chevrolet Sail">Chevrolet Sail</option>
                            <option  value="Chevrolet Aveo Fam">Chevrolet Aveo Fam</option>
                        </select>
                    </div>
                    <div class="campos">
                        <div class="fechas">
                        <label for="d-fecha-desde">Fecha Desde:</label>
                        <input type="date" id="d-fecha-desde" name="fecha">
                        </div>
                        <div class="fechas">
                        <label for="d-fecha-hasta">Fecha Hasta:</label>
                        <input type="date" id="d-fecha-hasta" name="fecha">
                        </div>                       
                    </div>
                    <div id="privacidad">
                        <input type="checkbox" id="terminos">
                        <label>He leido y acepto la politica de privacidad</label>
                    </div>
                    <div id="botones">                   
                        <input type="submit" id="boton-enviar" value="Enviar">
                        <input type="reset" id="boton-limpiar" value="Limpiar">
                    </div>

                </form>
            </div>
        </div>

    </main>


    <footer class="bg-black" >
        <div class="container mx-auto flex items-center justify-center flex-col p-2">
            <a href="/" class="text-white">
                <i class="text-3xl fas fa-plane-departure"></i>
            </a>
            <p class="text-white text-sm">Todos los Derechos Reservados EcuTravel &copy;</p>
        </div>
    </footer>
    <script src="./bundle.js" ></script>
    <script type="text/javascript">
        function validarform() {
            var nombre, apellido, telefono, correo, sexo, vehiculo, fecha_desde, fecha_hasta, aceptar_term, expresion_correo, expresion_letras;
            nombre = document.getElementById("i-nombre");
            apellido = document.getElementById("i-apellido");
            telefono = document.getElementById("t-telefono");
            correo = document.getElementById("i-correo");
            sexo = document.getElementsByName("sexo");
            vehiculo = document.getElementById("vehiculos");
            fecha_desde = document.getElementById("d-fecha-desde");
            fecha_hasta = document.getElementById("d-fecha-hasta");
            aceptar_term = document.getElementById("terminos");
            expresion_correo = /\w+@\w+\.+[a-z]/;
            expresion_letras = /^[a-zA-ZÀ-ÿ\u00f1\u00d1]+(\s*[a-zA-ZÀ-ÿ\u00f1\u00d1]*)*[a-zA-ZÀ-ÿ\u00f1\u00d1]+$/;

            /*expresion_correo=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;*/

            limpiarMensajes();

            //nombre
            if (nombre.value === "") {
                mensaje(" Campo nombre es obligatorio", nombre);
                return false;
            } else if (!(expresion_letras.test(nombre.value))) {
                mensaje(" Solo letras", nombre);
                return false;
            }else if (nombre.value.length > 20) {
                mensaje("Nombre maximo 20 caracteres", nombre);
                return false;
            }

            //apellido
            if (apellido.value === "") {
                mensaje(" Campo apellido es obligatorio", apellido);
                return false;
            } else if (!(expresion_letras.test(apellido.value))) {
                mensaje(" Solo letras", apellido);
                return false;
            }else if (apellido.value.length > 20) {
                mensaje("Apellido maximo 20 caracteres", apellido);
                return false;
            }

            //telefono
            if (telefono.value === "") {
                mensaje(" Campo telefono es obligatorio", telefono);
                return false;
            } else if (isNaN(telefono.value)) {
                mensaje(" El numero de telefono debe ser un numero ", telefono);
                return false;
            } else if (telefono.value.length > 10 || telefono.value.length < 10) {
                mensaje(" El numero de telefono debe tener 10 digitos", telefono);
                return false;
            }

            //correo
            if (correo.value === "") {
                mensaje(" Campo correo es obligatorio", correo);
                return false;
            } else if (!expresion_correo.test(correo.value)) {
                mensaje(" Escriba un correo válido", correo);
                return false;
            }

            //genero
            if (!(validar_genero(sexo))) {
                mensaje(" No ha escogido una opcion en sexo", sexo[0]);
                return false;
            }

            //vehiculo
            if (vehiculo.value === "Seleccione" || vehiculo.value === null) {
                mensaje(" Campo vehiculo es obligatorio", vehiculo);
                return false;

            }

            let datoD= fecha_desde.value;
            let fechaD= new Date(datoD);

            let datoH= fecha_hasta.value;
            let fechaH= new Date(datoH);

            let fechaAc= new Date();

            //fecha desde
            if (fecha_desde.value === "") {
                mensaje(" Campo fecha desde es obligatorio", fecha_desde);
                return false;
            }else if(fechaD<=fechaAc){              
                mensaje(" La fecha debe ser superior ", fecha_desde);
                return false;
            }
            //fecha hasta


            if (fecha_hasta.value === "") {
                mensaje(" Campo fecha hasta es obligatorio", fecha_hasta);
                return false;
            }else if(fechaH<=fechaD){              
                mensaje(" La fecha debe ser superior a la fecha desde", fecha_hasta);
                return false;
            }

            //terminos y condiciones
            if (!aceptar_term.checked) {
                mensaje(" Debe aceptar las politicas de privacidad", aceptar_term);
                return false;
            }
        }

        function validar_genero(radiobuttons) {

            for (i = 0; i < radiobuttons.length; i++) {
                if (radiobuttons[i].checked) {
                    return true;

                }
            } return false;

        }

        function mensaje(cadenaMensaje, elemento) {
            elemento.focus();
            var nodoPadre = elemento.parentNode;
            var nodoMensaje = document.createElement("span");
            nodoMensaje.textContent = cadenaMensaje;
            nodoMensaje.className = "mensajeError";
            nodoPadre.appendChild(nodoMensaje);

        }

        function limpiarMensajes() {
            var mensajes = document.querySelectorAll(".mensajeError");
            for (let i = 0; i < mensajes.length; i++) {
                mensajes[i].remove();
            }

        }

    </script>
</body>
</html>